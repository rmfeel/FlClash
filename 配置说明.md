# RMMY 配置说明文档

## 📋 目录
- [Xboard 站点配置](#xboard-站点配置)
- [应用名称与图标配置](#应用名称与图标配置)
- [构建与发布](#构建与发布)

---

## 🌐 Xboard 站点配置

### 修改后端地址

**文件位置**: `lib/providers/xboard_config.dart`

**修改内容**: 第 10 行

```dart
// 默认后端地址 - 在这里修改你的 Xboard 后端地址
const String defaultBackendUrl = 'https://你的域名.com';
```

**说明**:
- 将 `https://你的域名.com` 替换为你的 Xboard 后端完整地址
- 必须包含 `http://` 或 `https://` 前缀
- 不要在末尾添加 `/`

**示例**:
```dart
const String defaultBackendUrl = 'https://cdn.98kjc.icu';
```

---

## 🎨 应用名称与图标配置

### 1. 可执行文件名和桌面图标名称

**文件位置**: `windows/CMakeLists.txt`

**修改内容**: 第 7 行

```cmake
set(BINARY_NAME "RMMY")
```

**说明**: 
- 修改 `"RMMY"` 为你想要的应用名称
- 编译后生成的可执行文件将是: `你的名称.exe`
- 桌面快捷方式也会显示这个名称

---

### 2. 窗口标题栏

**文件位置**: `windows/runner/main.cpp`

**修改内容**: 第 30 行

```cpp
if (!window.Create(L"RMMY", origin, size)) {
```

**说明**: 
- 修改 `L"RMMY"` 为你想要的窗口标题
- `L` 前缀表示宽字符串，必须保留

---

### 3. 应用程序图标

**文件位置**: `windows/runner/resources/app_icon.ico`

**修改步骤**:

1. **准备图标文件**
   - 格式: `.ico` 文件
   - 推荐尺寸: 包含多个尺寸（16x16, 32x32, 48x48, 256x256）
   - 工具推荐: 
     - 在线工具: https://convertio.co/zh/png-ico/
     - 桌面软件: IcoFX、Greenfish Icon Editor

2. **替换图标**
   ```
   将你的图标文件重命名为 app_icon.ico
   替换 windows/runner/resources/app_icon.ico
   ```

3. **验证**
   - 重新编译后，桌面图标和任务栏图标都会更新
   - Windows 资源管理器中的文件图标也会改变

---

## 🔧 完整配置检查清单

### 修改前检查

- [ ] 准备好 Xboard 后端地址
- [ ] 确定应用名称（英文，无空格）
- [ ] 准备好 .ico 格式的图标文件

### 需要修改的文件

- [ ] `lib/providers/xboard_config.dart` - 后端地址
- [ ] `windows/CMakeLists.txt` - 可执行文件名
- [ ] `windows/runner/main.cpp` - 窗口标题
- [ ] `windows/runner/resources/app_icon.ico` - 应用图标

### 修改后操作

1. **提交代码**
   ```bash
   git add .
   git commit -m "配置：修改应用名称和后端地址"
   ```

2. **创建版本标签**
   ```bash
   git tag -a v1.0.0 -m "正式版本"
   ```

3. **推送到 GitHub**
   ```bash
   git push origin main
   git push origin v1.0.0
   ```

4. **自动构建**
   - GitHub Actions 会自动构建 Windows 和 Android 版本
   - 构建完成后在 Releases 页面下载

---

## 📝 配置示例

### 示例 1: 修改为 "MyVPN"

**xboard_config.dart**:
```dart
const String defaultBackendUrl = 'https://myvpn.example.com';
```

**CMakeLists.txt**:
```cmake
set(BINARY_NAME "MyVPN")
```

**main.cpp**:
```cpp
if (!window.Create(L"MyVPN", origin, size)) {
```

### 示例 2: 修改为 "RMMY"（当前配置）

**xboard_config.dart**:
```dart
const String defaultBackendUrl = 'https://cdn.98kjc.icu';
```

**CMakeLists.txt**:
```cmake
set(BINARY_NAME "RMMY")
```

**main.cpp**:
```cpp
if (!window.Create(L"RMMY", origin, size)) {
```

---

## ⚠️ 注意事项

1. **应用名称限制**
   - 建议使用英文字母和数字
   - 避免使用特殊字符和空格
   - Windows 文件名不支持: `\ / : * ? " < > |`

2. **后端地址要求**
   - 必须是完整的 URL（包含协议）
   - 确保地址可以正常访问
   - 建议使用 HTTPS

3. **图标格式**
   - 必须是 `.ico` 格式
   - PNG/JPG 需要先转换
   - 建议包含多个尺寸以适配不同显示场景

4. **重新编译**
   - 修改这些配置后，必须重新编译才能生效
   - 本地无环境时，通过 GitHub Actions 云端构建
   - 构建时间约 10-20 分钟

---

## 🚀 快速配置流程

1. 修改 `lib/providers/xboard_config.dart` 中的后端地址
2. 修改 `windows/CMakeLists.txt` 中的应用名称
3. 修改 `windows/runner/main.cpp` 中的窗口标题
4. 替换 `windows/runner/resources/app_icon.ico` 图标文件
5. 提交代码并创建版本标签
6. 推送到 GitHub 触发自动构建
7. 等待构建完成，下载安装包

---

## 📞 技术支持

如遇到问题，检查以下内容：
- GitHub Actions 构建日志
- 配置文件语法是否正确
- 文件路径是否正确
- 图标文件格式是否符合要求

---

**最后更新**: 2025-12-13  
**当前版本**: RMMY v1.1.0  
**构建平台**: Windows, Android
