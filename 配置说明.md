# RMMY é…ç½®è¯´æ˜æ–‡æ¡£

## ğŸ“‹ ç›®å½•
- [Xboard ç«™ç‚¹é…ç½®](#xboard-ç«™ç‚¹é…ç½®)
- [åº”ç”¨åç§°ä¸å›¾æ ‡é…ç½®](#åº”ç”¨åç§°ä¸å›¾æ ‡é…ç½®)
- [æ„å»ºä¸å‘å¸ƒ](#æ„å»ºä¸å‘å¸ƒ)

---

## ğŸŒ Xboard ç«™ç‚¹é…ç½®

### ä¿®æ”¹åç«¯åœ°å€

**æ–‡ä»¶ä½ç½®**: `lib/providers/xboard_config.dart`

**ä¿®æ”¹å†…å®¹**: ç¬¬ 10 è¡Œ

```dart
// é»˜è®¤åç«¯åœ°å€ - åœ¨è¿™é‡Œä¿®æ”¹ä½ çš„ Xboard åç«¯åœ°å€
const String defaultBackendUrl = 'https://ä½ çš„åŸŸå.com';
```

**è¯´æ˜**:
- å°† `https://ä½ çš„åŸŸå.com` æ›¿æ¢ä¸ºä½ çš„ Xboard åç«¯å®Œæ•´åœ°å€
- å¿…é¡»åŒ…å« `http://` æˆ– `https://` å‰ç¼€
- ä¸è¦åœ¨æœ«å°¾æ·»åŠ  `/`

**ç¤ºä¾‹**:
```dart
const String defaultBackendUrl = 'https://cdn.98kjc.icu';
```

---

## ğŸ¨ åº”ç”¨åç§°ä¸å›¾æ ‡é…ç½®

### 1. å¯æ‰§è¡Œæ–‡ä»¶åå’Œæ¡Œé¢å›¾æ ‡åç§°

**æ–‡ä»¶ä½ç½®**: `windows/CMakeLists.txt`

**ä¿®æ”¹å†…å®¹**: ç¬¬ 7 è¡Œ

```cmake
set(BINARY_NAME "RMMY")
```

**è¯´æ˜**: 
- ä¿®æ”¹ `"RMMY"` ä¸ºä½ æƒ³è¦çš„åº”ç”¨åç§°
- ç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶å°†æ˜¯: `ä½ çš„åç§°.exe`
- æ¡Œé¢å¿«æ·æ–¹å¼ä¹Ÿä¼šæ˜¾ç¤ºè¿™ä¸ªåç§°

---

### 2. çª—å£æ ‡é¢˜æ 

**æ–‡ä»¶ä½ç½®**: `windows/runner/main.cpp`

**ä¿®æ”¹å†…å®¹**: ç¬¬ 30 è¡Œ

```cpp
if (!window.Create(L"RMMY", origin, size)) {
```

**è¯´æ˜**: 
- ä¿®æ”¹ `L"RMMY"` ä¸ºä½ æƒ³è¦çš„çª—å£æ ‡é¢˜
- `L` å‰ç¼€è¡¨ç¤ºå®½å­—ç¬¦ä¸²ï¼Œå¿…é¡»ä¿ç•™

---

### 3. åº”ç”¨ç¨‹åºå›¾æ ‡

**æ–‡ä»¶ä½ç½®**: `windows/runner/resources/app_icon.ico`

**ä¿®æ”¹æ­¥éª¤**:

1. **å‡†å¤‡å›¾æ ‡æ–‡ä»¶**
   - æ ¼å¼: `.ico` æ–‡ä»¶
   - æ¨èå°ºå¯¸: åŒ…å«å¤šä¸ªå°ºå¯¸ï¼ˆ16x16, 32x32, 48x48, 256x256ï¼‰
   - å·¥å…·æ¨è: 
     - åœ¨çº¿å·¥å…·: https://convertio.co/zh/png-ico/
     - æ¡Œé¢è½¯ä»¶: IcoFXã€Greenfish Icon Editor

2. **æ›¿æ¢å›¾æ ‡**
   ```
   å°†ä½ çš„å›¾æ ‡æ–‡ä»¶é‡å‘½åä¸º app_icon.ico
   æ›¿æ¢ windows/runner/resources/app_icon.ico
   ```

3. **éªŒè¯**
   - é‡æ–°ç¼–è¯‘åï¼Œæ¡Œé¢å›¾æ ‡å’Œä»»åŠ¡æ å›¾æ ‡éƒ½ä¼šæ›´æ–°
   - Windows èµ„æºç®¡ç†å™¨ä¸­çš„æ–‡ä»¶å›¾æ ‡ä¹Ÿä¼šæ”¹å˜

---

### 4. å®‰è£…åŒ…é…ç½®

**æ–‡ä»¶ä½ç½®**: `windows/packaging/exe/make_config.yaml`

**ä¿®æ”¹å†…å®¹**: ç¬¬ 3-8 è¡Œ

```yaml
app_name: RMMY
display_name: RMMY
executable_name: RMMY.exe
output_base_file_name: RMMY-Installer.exe
```

**è¯´æ˜**: 
- `app_name`: åº”ç”¨å†…éƒ¨åç§°
- `display_name`: å®‰è£…ç¨‹åºä¸­æ˜¾ç¤ºçš„åç§°
- `executable_name`: å¯æ‰§è¡Œæ–‡ä»¶åï¼ˆä¸ CMakeLists.txt ä¿æŒä¸€è‡´ï¼‰
- `output_base_file_name`: å®‰è£…åŒ…æ–‡ä»¶å

**æ–‡ä»¶ä½ç½®**: `windows/packaging/exe/inno_setup.iss`

**ä¿®æ”¹å†…å®¹**: ç¬¬ 28 è¡Œ

```pascal
Processes := ['RMMY.exe', 'FlClashCore.exe', 'FlClashHelperService.exe'];
```

**è¯´æ˜**: 
- æ›´æ–°è¿›ç¨‹åˆ—è¡¨ï¼Œç¡®ä¿å®‰è£…/å¸è½½æ—¶èƒ½æ­£ç¡®å…³é—­åº”ç”¨
- å°†ç¬¬ä¸€ä¸ªè¿›ç¨‹åæ”¹ä¸ºä½ çš„åº”ç”¨åç§°

---

## ğŸ”§ å®Œæ•´é…ç½®æ£€æŸ¥æ¸…å•

### ä¿®æ”¹å‰æ£€æŸ¥

- [ ] å‡†å¤‡å¥½ Xboard åç«¯åœ°å€
- [ ] ç¡®å®šåº”ç”¨åç§°ï¼ˆè‹±æ–‡ï¼Œæ— ç©ºæ ¼ï¼‰
- [ ] å‡†å¤‡å¥½ .ico æ ¼å¼çš„å›¾æ ‡æ–‡ä»¶

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

- [ ] `lib/providers/xboard_config.dart` - åç«¯åœ°å€
- [ ] `windows/CMakeLists.txt` - å¯æ‰§è¡Œæ–‡ä»¶å
- [ ] `windows/runner/main.cpp` - çª—å£æ ‡é¢˜
- [ ] `windows/runner/resources/app_icon.ico` - åº”ç”¨å›¾æ ‡
- [ ] `windows/packaging/exe/make_config.yaml` - å®‰è£…åŒ…é…ç½®
- [ ] `windows/packaging/exe/inno_setup.iss` - å®‰è£…è„šæœ¬è¿›ç¨‹å

### ä¿®æ”¹åæ“ä½œ

1. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "é…ç½®ï¼šä¿®æ”¹åº”ç”¨åç§°å’Œåç«¯åœ°å€"
   ```

2. **åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾**
   ```bash
   git tag -a v1.0.0 -m "æ­£å¼ç‰ˆæœ¬"
   ```

3. **æ¨é€åˆ° GitHub**
   ```bash
   git push origin main
   git push origin v1.0.0
   ```

4. **è‡ªåŠ¨æ„å»º**
   - GitHub Actions ä¼šè‡ªåŠ¨æ„å»º Windows å’Œ Android ç‰ˆæœ¬
   - æ„å»ºå®Œæˆååœ¨ Releases é¡µé¢ä¸‹è½½

---

## ğŸ“ é…ç½®ç¤ºä¾‹

### ç¤ºä¾‹ 1: ä¿®æ”¹ä¸º "MyVPN"

**xboard_config.dart**:
```dart
const String defaultBackendUrl = 'https://myvpn.example.com';
```

**CMakeLists.txt**:
```cmake
set(BINARY_NAME "MyVPN")
```

**main.cpp**:
```cpp
if (!window.Create(L"MyVPN", origin, size)) {
```

### ç¤ºä¾‹ 2: ä¿®æ”¹ä¸º "RMMY"ï¼ˆå½“å‰é…ç½®ï¼‰

**xboard_config.dart**:
```dart
const String defaultBackendUrl = 'https://cdn.98kjc.icu';
```

**CMakeLists.txt**:
```cmake
set(BINARY_NAME "RMMY")
```

**main.cpp**:
```cpp
if (!window.Create(L"RMMY", origin, size)) {
```

**make_config.yaml**:
```yaml
app_name: RMMY
display_name: RMMY
executable_name: RMMY.exe
output_base_file_name: RMMY-Installer.exe
```

**inno_setup.iss**:
```pascal
Processes := ['RMMY.exe', 'FlClashCore.exe', 'FlClashHelperService.exe'];
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åº”ç”¨åç§°é™åˆ¶**
   - å»ºè®®ä½¿ç”¨è‹±æ–‡å­—æ¯å’Œæ•°å­—
   - é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦å’Œç©ºæ ¼
   - Windows æ–‡ä»¶åä¸æ”¯æŒ: `\ / : * ? " < > |`

2. **åç«¯åœ°å€è¦æ±‚**
   - å¿…é¡»æ˜¯å®Œæ•´çš„ URLï¼ˆåŒ…å«åè®®ï¼‰
   - ç¡®ä¿åœ°å€å¯ä»¥æ­£å¸¸è®¿é—®
   - å»ºè®®ä½¿ç”¨ HTTPS

3. **å›¾æ ‡æ ¼å¼**
   - å¿…é¡»æ˜¯ `.ico` æ ¼å¼
   - PNG/JPG éœ€è¦å…ˆè½¬æ¢
   - å»ºè®®åŒ…å«å¤šä¸ªå°ºå¯¸ä»¥é€‚é…ä¸åŒæ˜¾ç¤ºåœºæ™¯

4. **é‡æ–°ç¼–è¯‘**
   - ä¿®æ”¹è¿™äº›é…ç½®åï¼Œå¿…é¡»é‡æ–°ç¼–è¯‘æ‰èƒ½ç”Ÿæ•ˆ
   - æœ¬åœ°æ— ç¯å¢ƒæ—¶ï¼Œé€šè¿‡ GitHub Actions äº‘ç«¯æ„å»º
   - æ„å»ºæ—¶é—´çº¦ 10-20 åˆ†é’Ÿ

---

## ğŸš€ å¿«é€Ÿé…ç½®æµç¨‹

1. ä¿®æ”¹ `lib/providers/xboard_config.dart` ä¸­çš„åç«¯åœ°å€
2. ä¿®æ”¹ `windows/CMakeLists.txt` ä¸­çš„åº”ç”¨åç§°
3. ä¿®æ”¹ `windows/runner/main.cpp` ä¸­çš„çª—å£æ ‡é¢˜
4. ä¿®æ”¹ `windows/packaging/exe/make_config.yaml` ä¸­çš„å®‰è£…åŒ…é…ç½®
5. ä¿®æ”¹ `windows/packaging/exe/inno_setup.iss` ä¸­çš„è¿›ç¨‹åç§°
6. ï¼ˆå¯é€‰ï¼‰æ›¿æ¢ `windows/runner/resources/app_icon.ico` å›¾æ ‡æ–‡ä»¶
7. æäº¤ä»£ç å¹¶åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
8. æ¨é€åˆ° GitHub è§¦å‘è‡ªåŠ¨æ„å»º
9. ç­‰å¾…æ„å»ºå®Œæˆï¼Œä¸‹è½½å®‰è£…åŒ…

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œæ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
- GitHub Actions æ„å»ºæ—¥å¿—
- é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®
- æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- å›¾æ ‡æ–‡ä»¶æ ¼å¼æ˜¯å¦ç¬¦åˆè¦æ±‚

---

**æœ€åæ›´æ–°**: 2025-12-13  
**å½“å‰ç‰ˆæœ¬**: RMMY v1.1.0  
**æ„å»ºå¹³å°**: Windows, Android
